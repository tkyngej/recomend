<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Realtime Preference Search</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 1rem; }
    label, select, input { display: block; margin: 1rem 0 0.5rem; }
    button { margin-top: 1rem; padding: 0.5rem 1rem; }
  </style>
</head>
<body>
  <h1>Realtime Preference Search</h1>

  <label for="genre">Select Genre:</label>
  <select id="genre">
    <option value="supplement">Supplements</option>
    <option value="movie">Movies</option>
    <option value="anime">Anime</option>
    <option value="novel">Novels</option>
    <option value="manga">Manga</option>
    <option value="food">Restaurants</option>
    <option value="shopping">Online Shopping</option>
    <option value="event">Local Events</option>
  </select>

  <label for="preference">Your Preference:</label>
  <input type="text" id="preference" placeholder="e.g., love stories disliked, emotional stories liked">

  <label for="location">Your City:</label>
  <input type="text" id="location" placeholder="e.g., Osaka City">

  <button onclick="search()">Search Now</button>

  <script>
    const siteMap = {
      supplement: ['site:iherb.com', 'site:vitacost.com'],
      movie: ['site:eiga.com', 'site:eigakan.org'],
      anime: ['site:myanimelist.net', 'site:animestore.docomo.ne.jp'],
      novel: ['site:bookmeter.com', 'site:note.com'],
      manga: ['site:comic.pixiv.net', 'site:comicwalker.com'],
      food: ['site:tabelog.com', 'site:retty.me'],
      shopping: ['site:amazon.co.jp', 'site:rakuten.co.jp'],
      event: ['site:peatix.com', 'site:eventernote.com']
    };

    function search() {
      const genre = document.getElementById('genre').value;
      const preference = document.getElementById('preference').value;
      const location = document.getElementById('location').value;
      const sites = siteMap[genre].join(' OR ');
      const query = `${preference} ${location} (${sites})`;
      const url = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
      window.open(url, '_blank');
    }
  </script>
</body>
</html>
